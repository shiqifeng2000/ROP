"use strict";define(["../../services"],function(cta){return["$rootScope","$scope","$q","$http","$mdDialog",function($rootScope,$scope,$q,$http,$mdDialog){function initFunction(){return $scope.loading=!0,$scope.ajax("data_init").then(function(data){$scope.userList=[{user_id:"",user_name:"全部用户"}].concat(data.user_list),$scope.currentUser=$scope.userList[0],$scope.prodList=[{product_id:"",product_name:"全部产品"}].concat(data.product_list),$scope.currentProd=$scope.prodList[0]})["finally"](function(){$scope.loading=!1})}var initQ=void 0;$scope.reset=function(){$scope.userList=[],$scope.prodList=[],$scope.pageIndex=1,$scope.pageSize=new Number(10),initQ=initFunction()},$scope.reset(),$scope.research=function(){$scope.pageIndex=1,$scope.pageSize=new Number(10)},$scope.selectUser=function(user){$scope.currentUser=user,$scope.research()},$scope.selectProd=function(prod){$scope.currentProd=prod,$scope.research()},$scope.searcher=function(index,size){if(!$scope.refreshing)return $scope.refreshing=!0,initQ.then(function(){return $scope.ajax("data_get",{pageindex:index||$scope.pageIndex,pagesize:size||$scope.pageSize,isv_user_id:$scope.currentUser.user_id?$scope.currentUser.user_id:"",product_id:$scope.currentProd.product_id?$scope.currentProd.product_id:"",sort_name:"rx_insertTime",sort_flag:"0"}).then(function(data){"boolean"==typeof data.is_success&&data.is_success||"string"==typeof data.is_success&&"true"==data.is_success?($scope.data_list=data.data_list,$scope.total=data.list_count):($rootScope.alert(data.msg),$scope.total=0)})["finally"](function(){$scope.refreshing=!1})})},window.test=$scope}]});