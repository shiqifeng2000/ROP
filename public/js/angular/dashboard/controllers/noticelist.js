"use strict";define([],function(cta){return["$rootScope","$scope","$q","$http","$timeout","$mdDialog",function($rootScope,$scope,$q,$http,$timeout,$mdDialog){function showContentDialog(ev,notice){notice&&$mdDialog.show({controller:ShowContentCtrl,template:'\n          <md-dialog aria-label="公告信息" class="form notice" aria-describedby="quick edit">\n              <md-toolbar>\n                <div class="md-toolbar-tools">\n                  <md-icon md-svg-icon="navigation:ic_apps_24px"></md-icon>\n                  <h3><span ng-bind="\'公告信息\'"></span></h3>\n                  <md-button class="md-icon-button md-primary md-hue-1" aria-label="Settings" ng-click="close()">\n                    <md-icon md-svg-icon="content:ic_clear_24px"></md-icon>\n                  </md-button>\n                </div>\n              </md-toolbar>\n              <md-dialog-content>\n                <div class="title">\n                  <div class="md-toolbar-tools">\n                      <md-button class="md-fab md-primary md-mini" aria-label="Eat cake">\n                          <md-icon md-svg-icon="av:ic_volume_down_24px"></md-icon>\n                      </md-button>\n                      <h5 flex>\n                          <span>{{notice.notice_title}}</span>\n                      </h5>\n                      <small class="status"><a href="javascript:" class="pr-5">{{notice.create_user_name}}</a> <span class="pr-5">|</span> <i class="fa fa-calendar pr-5"></i>{{notice.rx_insertTime}}</small>\n                   </div>\n                 </div>\n                 <div class="content">\n                   <div class="area" ng-bind-html="notice.notice_content  | unescapeHtml | trusthtml"></div>\n</div>\n              </md-dialog-content>\n              <md-dialog-actions layout="row" style="display: none">\n                <div class="message" ng-if="error">\n                  <span ng-bind="error"></span>\n                </div>\n                <md-button ng-click="close()" type="submit">确定</md-button>\n              </md-dialog-actions>\n            </md-dialog>',autoWrap:!1,targetEvent:ev,clickOutsideToClose:!0,parent:angular.element(document.querySelector("body>section>md-content")),locals:{notice:notice}})}$scope.tableData=[],$scope.reset=function(){$scope.columns=[{text:"公告名称",name:"notice_title",compile:'<a href="javascript:" ng-click="$parent.$parent.col.showContent($event, $parent.row)">{{$parent.row[$parent.col.name]}}<md-tooltip md-direction="bottom">{{$parent.row[$parent.col.name]}}</md-tooltip></a>',showContent:function(event,notice){$scope.showContent(event,notice)}},{text:"创建者",name:"create_user_name",style:{width:"160px","text-align":"center"}},{text:"添加时间",name:"rx_insertTime",style:{width:"160px","text-align":"center"}}],$scope.keyword="",$scope.pageIndex=1,$scope.pageSize=new Number(10)},$scope.reset(),$scope.searcher=function(index,size){$scope.refreshing=!0;var previous=$scope.tableData&&$scope.tableData._select;return $scope.ajax("list",{pageindex:index||$scope.pageIndex,pagesize:size||$scope.pageSize,user_type:$rootScope.profile.login_user_type,noticet_title:$scope.keyword},function(data){"boolean"==typeof data.is_success&&data.is_success||"string"==typeof data.is_success&&"true"==data.is_success?($scope.tableData=data.platform_list,$scope.tableData&&$scope.tableData[0]&&(previous?$scope.tableData._select=[].concat.apply([],$scope.tableData.map(function(r){return previous.notice_id==r.notice_id?[r]:[]}))[0]:$scope.tableData._select=$scope.tableData[0]),$scope.total=data.list_count):($rootScope.alert(data.msg),$scope.total=0)},function(){$scope.total=0})["finally"](function(){$scope.refreshing=!1})},$scope.research=function(){$scope.pageIndex=1,$scope.pageSize=new Number(10)},$scope.showContent=function(event,notice){showContentDialog(event,notice)};var ShowContentCtrl=function(scope,notice){scope.notice=notice,scope.close=function(){$mdDialog.hide()}};window.test=$scope}]});