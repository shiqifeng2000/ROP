"use strict";define(["clipboard","treeview","packagetree","string2json","../../services"],function(Clipboard){return["$rootScope","$scope","$http","$filter","$q","$cookies","$stateParams","$mdSidenav","$mdDialog","$timeout","$state",function($rootScope,$scope,$http,$filter,$q,$cookies,$stateParams,$mdSidenav,$mdDialog,$timeout,$state){var domain_id=$stateParams.id,sub_domain=($stateParams.cat_id,$stateParams.cat_name,$stateParams.sub_domain),cliperParam=($q.defer(),$scope.$parent,{});window.ssv_info.cat_id&&$scope.$parent&&($scope.$parent.selectedEntry=1),window.ssv_info.cat_id?($scope.domainDetailQ(domain_id,window.ssv_info&&window.ssv_info.cat_id,sub_domain).then(function(){$scope.copyToClipboard=function(details){var id=details.api_id?details.api_id:details.domain_id,method=details.api_id?"ApiMethod":"ApiDomain";return Constant.protocol+"://"+Constant.host+"/api/"+method+"-"+id+".html"}}),delete window.ssv_info.cat_id,delete window.ssv_info.cat_name):$timeout(function(){$scope.domainDetailQ(domain_id,window.ssv_info&&window.ssv_info.cat_id,sub_domain).then(function(){$scope.copyToClipboard=function(details){var id=details.api_id?details.api_id:details.domain_id,method=details.api_id?"ApiMethod":"ApiDomain";return Constant.protocol+"://"+Constant.host+"/api/"+method+"-"+id+".html"}})},100),$scope.initClipboard(cliperParam);var cliper=new Clipboard(".cliper");cliper.on("success",function(e){$scope.clipboardHints==cliperParam.beforeClipboardCopy&&(e.clearSelection(),$timeout(function(){$scope.clipboardHints=cliperParam.afterClipboardCopy}),$timeout(function(){$scope.clipboardHints=cliperParam.beforeClipboardCopy},3e3))}),cliper.on("error",function(e){$scope.clipboardHints==cliperParam.beforeClipboardCopy&&($timeout(function(){$scope.clipboardHints=cliperParam.workaroundSupportClipboard(e.action)}),$timeout(function(){$scope.clipboardHints=cliperParam.beforeClipboardCopy},3e3))}),window.test1=$scope,$scope.$on("$destroy",function(){cliper&&cliper.destroy(),"document.api"!=$state.current.name&&"document.domain"!=$state.current.name&&$scope.reset()})}]});